function FastAnalytics(f,c){var g;c=c||{};this.tracking=false;this.trackingStart=;this.targetElement=null;this.touchStartX=;this.touchStartY=;this.lastTouchIdentifier=;this.touchBoundary=c.touchBoundary||1;this.layer=f;this.tapDelay=c.tapDelay||2;if(Fast.notNeeded(f)){return}function h(j,i){return function(){return j.apply(i,arguments)}}var b=["onMouse","on","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var e=this;for(var d=,a=b.length;d<a;d++){e[b[d]]=h(e[b[d]],e)}if(deviceIsAndroid){f.addEventListener("mouseover",this.onMouse,true);f.addEventListener("mousedown",this.onMouse,true);f.addEventListener("mouseup",this.onMouse,true)}f.addEventListener("",this.on,true);f.addEventListener("touchstart",this.onTouchStart,false);f.addEventListener("touchmove",this.onTouchMove,false);f.addEventListener("touchend",this.onTouchEnd,false);f.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){f.removeEventListener=function(j,l,i){var k=Node.prototype.removeEventListener;if(j===""){k.call(f,j,l.hijacked||l,i)}else{k.call(f,j,l,i)}};f.addEventListener=function(k,l,j){var i=Node.prototype.addEventListener;if(k===""){i.call(f,k,l.hijacked||(l.hijacked=function(m){if(!m.propagationStopped){l(m)}}),j)}else{i.call(f,k,l,j)}}}if(typeof f.on==="function"){g=f.on;f.addEventListener("",function(i){g(i)},false);f.on=null}}var deviceIsAndroid=navigator.userAgent.indexOf("Android")>;var deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);var deviceIsIOS4=deviceIsIOS&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);var deviceIsIOSWithBadTarget=deviceIsIOS&&(/OS ([6-9]|\d{2})_\d/).test(navigator.userAgent);Fast.prototype.needs=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled){return true}break;case"input":if((deviceIsIOS&&a.type==="file")||a.disabled){return true}break;case"label":case"video":return true}return(/\bneeds\b/).test(a.className)};Fast.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return true;case"select":return !deviceIsAndroid;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return !a.disabled&&!a.readOnly;default:return(/\bneedsfocus\b/).test(a.className)}};Fast.prototype.send=function(b,c){var a,d;if(document.activeElement&&document.activeElement!==b){document.activeElement.blur()}d=c.changedTouches[];a=document.createEvent("MouseEvents");a.initMouseEvent(this.determineEventType(b),true,true,window,1,d.screenX,d.screenY,d.clientX,d.clientY,false,false,false,false,,null);a.forwardedTouchEvent=true;b.dispatchEvent(a)};Fast.prototype.determineEventType=function(a){if(deviceIsAndroid&&a.tagName.toLowerCase()==="select"){return"mousedown"}return""};Fast.prototype.focus=function(a){var b;if(deviceIsIOS&&a.setSelectionRange&&a.type.indexOf("date")!==&&a.type!=="time"){b=a.value.length;a.setSelectionRange(b,b)}else{a.focus()}};Fast.prototype.updateScrollParent=function(b){var c,a;c=b.fastScrollParent;if(!c||!c.contains(b)){a=b;do{if(a.scrollHeight>a.offsetHeight){c=a;b.fastScrollParent=a;break}a=a.parentElement}while(a)}if(c){c.fastLastScrollTop=c.scrollTop}};Fast.prototype.getTargetElementFromEventTarget=function(a){if(a.nodeType===Node.TEXT_NODE){return a.parentNode}return a};Fast.prototype.onTouchStart=function(c){var a,d,b;if(c.targetTouches.length>1){return true}a=this.getTargetElementFromEventTarget(c.target);d=c.targetTouches[];if(deviceIsIOS){b=window.getSelection();if(b.rangeCount&&!b.isCollapsed){return true}if(!deviceIsIOS4){if(d.identifier===this.lastTouchIdentifier){c.preventDefault();return false}this.lastTouchIdentifier=d.identifier;this.updateScrollParent(a)}}this.tracking=true;this.trackingStart=c.timeStamp;this.targetElement=a;this.touchStartX=d.pageX;this.touchStartY=d.pageY;if((c.timeStamp-this.lastTime)<this.tapDelay){c.preventDefault()}return true};Fast.prototype.touchHasMoved=function(a){var c=a.changedTouches[],b=this.touchBoundary;if(Math.abs(c.pageX-this.touchStartX)>b||Math.abs(c.pageY-this.touchStartY)>b){return true}return false};Fast.prototype.onTouchMove=function(a){if(!this.tracking){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a)){this.tracking=false;this.targetElement=null}return true};Fast.prototype.findControl=function(a){if(a.control!==undefined){return a.control}if(a.htmlFor){return document.getElementById(a.htmlFor)}return a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};Fast.prototype.onTouchEnd=function(c){var e,d,b,g,f,a=this.targetElement;if(!this.tracking){return true}if((c.timeStamp-this.lastTime)<this.tapDelay){this.cancelNext=true;return true}this.cancelNext=false;this.lastTime=c.timeStamp;d=this.trackingStart;this.tracking=false;this.trackingStart=;if(deviceIsIOSWithBadTarget){f=c.changedTouches[];a=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||a;a.fastScrollParent=this.targetElement.fastScrollParent}b=a.tagName.toLowerCase();if(b==="label"){e=this.findControl(a);if(e){this.focus(a);if(deviceIsAndroid){return false}a=e}}else{if(this.needsFocus(a)){if((c.timeStamp-d)>1||(deviceIsIOS&&window.top!==window&&b==="input")){this.targetElement=null;return false}this.focus(a);this.send(a,c);if(!deviceIsIOS||b!=="select"){this.targetElement=null;c.preventDefault()}return false}}if(deviceIsIOS&&!deviceIsIOS4){g=a.fastScrollParent;if(g&&g.fastLastScrollTop!==g.scrollTop){return true}}if(!this.needs(a)){c.preventDefault();this.send(a,c)}return false};Fast.prototype.onTouchCancel=function(){this.tracking=false;this.targetElement=null};Fast.prototype.onMouse=function(a){if(!this.targetElement){return true}if(a.forwardedTouchEvent){return true}if(!a.cancelable){return true}if(!this.needs(this.targetElement)||this.cancelNext){if(a.stopImmediatePropagation){a.stopImmediatePropagation()}else{a.propagationStopped=true}a.stopPropagation();a.preventDefault();return false}return true};Fast.prototype.on=function(a){var b;if(this.tracking){this.targetElement=null;this.tracking=false;return true}if(a.target.type==="submit"&&a.detail===){return true}b=this.onMouse(a);if(!b){this.targetElement=null}return b};Fast.prototype.destroy=function(){var a=this.layer;if(deviceIsAndroid){a.removeEventListener("mouseover",this.onMouse,true);a.removeEventListener("mousedown",this.onMouse,true);a.removeEventListener("mouseup",this.onMouse,true)}a.removeEventListener("",this.on,true);a.removeEventListener("touchstart",this.onTouchStart,false);a.removeEventListener("touchmove",this.onTouchMove,false);a.removeEventListener("touchend",this.onTouchEnd,false);a.removeEventListener("touchcancel",this.onTouchCancel,false)};Fast.notNeeded=function(b){var a;var c;if(typeof window.ontouchstart==="undefined"){return true}c=+(/Chrome\/([-9]+)/.exec(navigator.userAgent)||[,])[1];if(c){if(deviceIsAndroid){a=document.querySelector("meta[name=viewport]");if(a){if(a.content.indexOf("user-scalable=no")!==-1){return true}if(c>31&&document.documentElement.scrollWidth<=window.outerWidth){return true}}}else{return true}}if(b.style.msTouchAction==="none"){return true}return false};Fast.attach=function(b,a){return new Fast(b,a)};if(typeof define!=="undefined"&&define.amd){define(function(){return Fast})}else{if(typeof module!=="undefined"&&module.exports){module.exports=Fast.attach;module.exports.Fast=Fast}else{window.Fast=Fast}};